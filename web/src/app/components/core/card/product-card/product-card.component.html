<nz-card
  class="mt-4 cursor-pointer rounded-md shadow-md"
  [nzCover]="nzAvatar"
  (click)="onNavigate()"
>
  <nz-card-meta
    nzTitle="{{ product.productName }}"
    nzDescription="GIÁ THUÊ: {{ product.rentalPrice | number }} VND"
    (click)="onNavigate()"
  >
    <ng-template #nzAvatar>
      <div
        class="image-container"
        (mouseenter)="nextImage()"
        (mouseleave)="resetImage()"
      >
        <!-- Display the current image from the image list -->
        <img
          style="width: 100%; height: 250px; object-fit: fill"
          [src]="currentImage || 'assets/images/6306486.jpg'"
          alt="{{ product.productName }}"
          class="image rounded-t-md"
          (error)="onImageError($event)"
        />
      </div>
    </ng-template>
  </nz-card-meta>
  <div class="flex justify-start items-center flex-wrap mt-2">
    <nz-avatar-group>
      <nz-avatar
        nzSize="small"
        nzIcon="user"
        nzSrc="//zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"
      ></nz-avatar>
      <nz-avatar
        nzSize="small"
        style="background-color: #f56a00"
        nzText="U"
      ></nz-avatar>
      <nz-avatar
        nzSize="small"
        style="background-color: #fde3cf; color: #f56a00"
        nzText="+2"
      ></nz-avatar>
    </nz-avatar-group>
    <span class="text-sm mx-2 text-[#CCCCCC]">số người thuê</span>
  </div>
  <div class="flex justify-between items-center flex-wrap mt-2">
    <div class="flex justify-between items-center gap-x-3">
      <span
        nz-icon
        nzType="star"
        nzTheme="fill"
        class="text-yellow-300 text-lg"
      ></span>
      <p class="text-sm">{{ product.evaluate }}</p>
    </div>
    @if(isLessor){
    <button
      nz-button
      nzGhost
      nzType="primary"
      (click)="$event.stopPropagation(); onEditClick()"
    >
      Chỉnh Sửa
    </button>
    }@else{
    <div class="flex items-center gap-x-2">
      <button nz-button nzGhost nzType="primary">Chọn thuê</button>
      @if((paramURL$ | async) === 'shop'){
      <button
        nz-button
        nzType="primary"
        (click)="$event.stopPropagation(); onAddMoreClick()"
      >
        T
      </button>
      }
    </div>
    }
  </div>
</nz-card>
